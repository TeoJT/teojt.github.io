<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-08-09T16:15:50+01:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">The Stack</title><subtitle>Welcome to my personal site.</subtitle><entry><title type="html">Timeway: New releases and usage guide!</title><link href="http://localhost:4000/2023/07/31/timeway_002_release.html" rel="alternate" type="text/html" title="Timeway: New releases and usage guide!" /><published>2023-07-31T21:08:45+01:00</published><updated>2023-07-31T21:08:45+01:00</updated><id>http://localhost:4000/2023/07/31/timeway_002_release</id><content type="html" xml:base="http://localhost:4000/2023/07/31/timeway_002_release.html">&lt;p&gt;Heya!&lt;/p&gt;

&lt;p&gt;A few days ago (or a month at this point), I released version 0.0.2, followed by version 0.0.3 and 0.0.4 of Timeway which is significantly different from the first version, and has tons of new features to the point where I decided to dedicate this blog post as a guide on how to use it. If you wanna try it out, read on below!&lt;/p&gt;

&lt;p&gt;This guide will be relevant for the latest version of Timeway, 0.0.4.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenie_239432.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;When you launch Timeway, you will be taken to the Pixel Realm; a representation of your drive’s files in a 3D world.&lt;/p&gt;

&lt;p&gt;Use WASD to move, Q &amp;amp; E to look left and right, and left click and right click to interact with file objects. If you’re on laptop and/or can’t use left/right click, I’ll explain how to change keybindings later below.&lt;/p&gt;

&lt;p&gt;These are portals. They actually folders on your computer. Walk into it to enter this folder.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screen_sjkdfal.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You can walk into the portal you emerge from to return to the previous directory.&lt;/p&gt;</content><author><name></name></author><summary type="html">Heya!</summary></entry><entry><title type="html">Timeway: My solution to the visibility problem.</title><link href="http://localhost:4000/2023/07/20/z-sorting.html" rel="alternate" type="text/html" title="Timeway: My solution to the visibility problem." /><published>2023-07-20T15:15:19+01:00</published><updated>2023-07-20T15:15:19+01:00</updated><id>http://localhost:4000/2023/07/20/z-sorting</id><content type="html" xml:base="http://localhost:4000/2023/07/20/z-sorting.html">&lt;p&gt;Heya!&lt;/p&gt;

&lt;p&gt;So it’s been a while since I’ve created a post and admittedly, it’s because I forgot about this website and because I’ve been having so much fun developing Timeway. I’ll share another update post on the latest features soon, but for now I want to focus on one of the graphical limitations that I faced and how to fix it. This is going to get pretty technical by the way, so prepare for the most nerdiest nerding about 3D engines.&lt;/p&gt;

&lt;p&gt;So a little backstory, when I was just getting started with the 3D world in Timeway (which I now named “The Pixel Realm”), I wanted to render flat objects in the world just like in early 3D games with primitive 3D engines. Once I had that implemented, the problem became immediately obvious;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/glitch_screenshot_238432.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Yikes, that looks &lt;em&gt;horrible&lt;/em&gt;. For whatever reason, some transparent textures are cutting textures that appear behind them. I don’t have exact proof of what’s happening here, but I am 99.99% sure what the issue is: The textures (and polygons) are not sorted and the renderer is drawing non-opaque pixels into the z-buffer when it shouldn’t be.&lt;/p&gt;

&lt;p&gt;What on earth do I mean by this? Well first, let me explain the visibility problem. If you already know about all that, you may skip the section below.&lt;/p&gt;

&lt;p&gt;In 3D rendering, the order in which polygons are rendered is extremely important. Draw the polygons all willy nilly and you end up with far away models in front of close-up models. In short, without proper care in which order polygons are drawn, you end up with a &lt;em&gt;mess&lt;/em&gt;. This is what is called the visibility problem.&lt;/p&gt;

&lt;p&gt;However, back in the early days of 3D graphics, different games and different consoles had different ways of approaching the problem. The original Playstation simply used the “painter’s algorithm”; order the polygons you want to draw from furthest to closest and you’ve (mostly) solved the visibility problem. Of course, each game approached that in different ways, for example in Crash Bandicoot, most polygons in the stage are pre-defined and not sorted on the fly since the camera is always at a fixed angle, so this saves precious performance since not as many polygons need to be sorted.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/crash_bandicoot.gif&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Z_buffer.svg/1280px-Z_buffer.svg.png&quot; style=&quot;width:30%; float: right; margin: 0px 0px 15px 0px;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Other consoles like the Nintendo 64 had a hardware feature called a Z-buffer; essentially you have a seperate framebuffer with identical dimensions to the main framebuffer, except this framebuffer stores the z-values of each pixel rendered. Each time a pixel is rendered, the current pixel in the z-buffer is tested against the pixel that is to be rendered, and if the pixel in the buffer has a greater z-value, the new pixel is discarded since there’s polygons overlapping the current one being drawn.&lt;/p&gt;

&lt;p&gt;In Layman’s terms, it draws the pixels closest to the camera while discarding pixels that aren’t seen.
&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;
So, how does all of this tie into the issue in Timeway? Well, from the screenshot, we can see that certain pixels in some of the far-away textures are not being drawn. When drawing to a Z-buffer you shouldn’t draw completely non-opaque pixels as this can cause issues we can see. But for whatever reason, it looks like there’s some bug in OpenGL or the Processing framework.&lt;/p&gt;

&lt;p&gt;There’s no way I’m going to dig into the source code of OpenGL or Processing as this could break so many things. So we’ll do the next best thing; sort the textures. Plus, z-buffering has problems when it comes to transparent textures, that of which can be solved by sorting the polygons. So hey, we’re killing two birds with one stone.&lt;/p&gt;

&lt;p&gt;Luckily for us, there’s a function in the Processing framework that does just that for us:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/processing_docs_2983423.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;…ok, so it clearly states that it’s not &lt;em&gt;perfect&lt;/em&gt;, but we’re only rendering at most, what? 400-600 polygons on screen at any given time? So surely it can’t be &lt;em&gt;that&lt;/em&gt; bad, right…?&lt;/p&gt;

&lt;video controls=&quot;&quot; preload=&quot;&quot; autoplay=&quot;&quot; muted=&quot;&quot; name=&quot;media&quot;&gt;&lt;source src=&quot;/images/ohno.mp4&quot; type=&quot;video/mp4&quot; /&gt;&lt;/video&gt;

&lt;p&gt;…aye yai yai. No, that’s not your browser struggling to play the video (I hope), that’s the actual performance of using that sorting function in Timeway. That is &lt;em&gt;painfully&lt;/em&gt; slow. Sure, having OBS Studio running on my measly Surface Book 2 did make it slower than it actually was, but still. An original Playstation could render something like this &lt;em&gt;way&lt;/em&gt; faster, and this is running on modern hardware!&lt;/p&gt;

&lt;p&gt;So, that means we need to write our own sorting function. At first I was really skeptical that I could actually make something that would work, but as it turns out, it wasn’t too hard.&lt;/p&gt;

&lt;p&gt;First, I implemented a linked list for all objects rendered on the scene. The ground is not included because it’s perfectly flat and doesn’t require any sorting. Then, like all lazy programmers, I asked ChatGPT for my favourite sorting algorithm; merge sort.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/chatgpt_29034382.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Of course, I “tweaked” the code by asking ChatGPT to write it in Java and such. I chose a linked list implementation because I didn’t want to create loads of garbage objects by regenerating an ArrayList each time, with a linked list you simply swap around items without creating new objects.&lt;/p&gt;

&lt;p&gt;After, I wrote code to add each object to the list as it runs the logic, then when it comes time to render everything, it merge sorts the list of objects from furthest to closest, and then displays the objects in our sorted list.&lt;/p&gt;

&lt;p&gt;And it worked great! All of the textures were being displayed correctly and it seems like the issue was solved!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenshot_923432.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Honestly, I was expecting it to give me a massive headache since sorting tends to be quite processor-intensive. But nope, it works well!&lt;/p&gt;

&lt;p&gt;…but of course the story doesn’t end here.&lt;/p&gt;

&lt;p&gt;See, another reason I used a linked list is because once the list was sorted, it can be carried over to the next frame. Each time the player moves, the list only needs to be slightly sorted. Unless the player teleports, only slight changes to each object’s positions are made.&lt;/p&gt;

&lt;p&gt;So basically what I’m trying to say is, I expected a big-o notation of almost O(n) since most of the process involves checking if the list is still sorted the next frame.&lt;/p&gt;

&lt;p&gt;However, I decided to test that theory with merge sort by checking the number of operations performed:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenshot_9234.png&quot; style=&quot;width:30%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I mean… &lt;em&gt;technically&lt;/em&gt;, it’s still a complexity of O(n log n), as when I move about in the world, it increases almost linearly. However, that’s still a large number of operations, and it doesn’t seem to be O(n) as I’d hoped. So that’s when I decided to re-code a few things and of course, ask ChatGPT yet again for answers.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenshot_chatgpt_28394372.png&quot; style=&quot;width:30%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This answer surprised me at first. &lt;em&gt;Isn’t insertion sort supposed to be an ineffective algorithm?&lt;/em&gt; I thought. Remembering the uni lectures we’ve had, it has an average complexity of O(n^2), which is undesireable in pretty much any computing circumstance.&lt;/p&gt;

&lt;p&gt;But then it began to make sense when I thought about it; it works by traversing the list from start to end, then it swaps unordered objects, going backwards until they’re in the right order, and continues from that point.&lt;/p&gt;

&lt;p&gt;In an almost sorted list, say you have 1 or 2 objects in a list of 100 that are off. That means that it would go through the list and not spend too many cycles sorting the 2 objects that are off. Most of the time is spent pretty much checking if the list is still sorted which is a big-O notation of O(n). Perfect!&lt;/p&gt;

&lt;p&gt;So again, I asked ChatGPT for an insertion sort algorithm and that’s when the actual headaches began. The algorithms it spat out kept breaking up the linked list (resulting in objects suddenly disappearing in the scene). At one point it worked but the big-O complexity was very much NOT O(n), so that’s when I had to write it myself. And let me tell you, writing an algorithm that deals with linked lists is pure &lt;em&gt;torture&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenshot_hell_90234.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Above is a snippet of the insertion sort algorithm. Pretty simple stuff, right? (&lt;em&gt;sarcasm&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;I tried asking ChatGPT to help solve some bugs, but even it kept spitting out incorrect answers. People keep saying that AI is going to take over programmers and people’s jobs, yet it can’t even write a &lt;em&gt;common&lt;/em&gt; working algorithm! I don’t think there’s much to panic about here!&lt;/p&gt;

&lt;p&gt;But, finally, I managed to get it working, and these were the results:&lt;/p&gt;

&lt;p&gt;When stationary:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenshot_29034.png&quot; style=&quot;width:40%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;When moving:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/screenshot_896439.png&quot; style=&quot;width:40%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If I had a photo of my face when I saw these numbers I would’ve put it here. These results were &lt;em&gt;amazing&lt;/em&gt;. We went from thousands of operations to pretty much the operations being parallel with the number of objects in the scene. Success!&lt;/p&gt;

&lt;p&gt;Now I know what you’re thinking. &lt;em&gt;Did this actually have any noticeable impact on the framerate?&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The answer is no, haha. Truth be told, it was already plenty efficient for the hardware it was running on with the merge sort algorithm. The reason I went through all this effort to get it as efficient as possible is because &lt;br /&gt;&lt;br /&gt;
A. We might have &lt;em&gt;hundreds of thousands&lt;/em&gt; of objects in the future (e.g. with particles), and having an efficient algorithm saves us the hassle of that in the future.&lt;br /&gt;
B. The satisfaction of micro-optimising this makes it worth it even if there’s not really a noticeable difference.&lt;br /&gt;
C. It was a learning experience.&lt;/p&gt;

&lt;p&gt;Seriously, before doing this, I knew that most games on the Playstation used a linked list approach like mine for sorting the polygons. But at the time I knew that sorting algorithms were &lt;em&gt;very&lt;/em&gt; expensive on the processor, especially for the 33MHz processor on the console, so how games were even able to achieve this was a mystery to me. Turns out, you just use the right algorithm, then you’ll be able to achieve almost O(n) complexity!&lt;/p&gt;

&lt;p&gt;And also, it taught me a valuable lesson about coding; don’t judge an algorithm by its worst case O(n). Different algorithms are good at different things. Choose the right one for the job.&lt;/p&gt;

&lt;p&gt;Thank you for reading! Cheerio!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/neo_928352.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Heya!</summary></entry><entry><title type="html">Timeway is now on Github!</title><link href="http://localhost:4000/2023/06/27/timeway_released.html" rel="alternate" type="text/html" title="Timeway is now on Github!" /><published>2023-06-27T21:28:15+01:00</published><updated>2023-06-27T21:28:15+01:00</updated><id>http://localhost:4000/2023/06/27/timeway_released</id><content type="html" xml:base="http://localhost:4000/2023/06/27/timeway_released.html">&lt;p&gt;&lt;img src=&quot;/images/timeway_logo.png&quot; style=&quot;width:30%&quot; class=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Heya!&lt;/p&gt;

&lt;p&gt;Just a quick update that my main project, Timeway, is now on Github!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/teojt/timeway&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;You can check out it here!&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There’s also a releases page so you can just directly download it and give it a whirl. Do be aware that it’s &lt;em&gt;very&lt;/em&gt; incomplete so there will be a ton of missing features. Other than that, have fun!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/timeway_screenshot.png&quot; style=&quot;width:50%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;More blog posts on Timeway coming soon! Trust me, I have loads to talk about :P&lt;/p&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Hello world!</title><link href="http://localhost:4000/2023/06/25/hello_world.html" rel="alternate" type="text/html" title="Hello world!" /><published>2023-06-25T18:09:29+01:00</published><updated>2023-06-25T18:09:29+01:00</updated><id>http://localhost:4000/2023/06/25/hello_world</id><content type="html" xml:base="http://localhost:4000/2023/06/25/hello_world.html">&lt;p&gt;So… guess this is my first blog post. I’ve always wanted to start a blog because I’ve always had ideas swirling around in my mind that I wanted to talk about, as well as my progress on my current projects. I also wanted some place to talk about how some of my bigger projects work. Maybe in an official documenation page rather than a blog post, heh.&lt;/p&gt;

&lt;p&gt;Oh, speaking of projects, these are my current projects that I’m working on so far:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Timeway, an Onenote replica which is purposed towards journalling and taking small notes. You can also explore your computer files in a retro world. It’s hard to explain haha.&lt;/li&gt;
  &lt;li&gt;Sketchiepad, basically just a framework/library (if you can call it that) where you can easily create sprite-based animations with code in Processing 3.5.4.&lt;/li&gt;
  &lt;li&gt;I’m also doing an electronics project with a friend to make his plushie make sounds when it’s thrown around with a BBC Micro:bit.&lt;/li&gt;
  &lt;li&gt;I guess this website also counts as a project :v)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Right now my main focus is Timeway since my brain is bursting with ideas for it, and since I’m using it to keep a journal of how my day’s been and notes and stuff.&lt;/p&gt;

&lt;p&gt;Originally, I used Onenote to keep notes about the day, plonk down stuff like notes and to-do lists within my Journal. Journalling with Onenote is actually pretty great, you can place images, text, reposition it whereever you want in the page, and make it all pretty with colours and styles. However, there were a couple issues:&lt;/p&gt;

&lt;p&gt;First, Onenote notebooks are uploaded to the cloud instead of being stored on your device (apart from caching). We probably all know that Microsoft is pretty nosy with our data, and there could potentially be sensitive information in this journal. Big yikes.&lt;/p&gt;

&lt;p&gt;Secondly, there were some missing features that I wanted in Onenote that I wanted, and I’m also concerned about the longevity of my journal; I want them to be accessible 10 years, maybe even 100 or a billion years from now. At any point, Onenote could be discontinued, or updated in such a way that old notebooks aren’t supported anymore. I’d like it so that any notes, no matter what version of Timeway they’ve been created in, can be opened with a modern version. And even if they can’t, they’re saved in a simple format so they’re easily recoverable.&lt;/p&gt;

&lt;p&gt;Oh, I’d also like it to have a better file explorer since the one in Windows, for lack of a better term, is &lt;em&gt;horrible&lt;/em&gt; (seriously, if I search for a file in the search bar, the window just freezes up). I’d also like a cool abstraction of the file system in the form of a retro 3D world where you can view your files as objects in the world.&lt;/p&gt;

&lt;p&gt;See, told ya it’s hard to explain!&lt;/p&gt;

&lt;p&gt;I’ve already written about 6,900 lines of code (including comments and whitespaces), so I’d say this project is past its earliest stages. Nevertheless, it’s still very much a work in progress and I still need to put it up on Github.&lt;/p&gt;

&lt;p&gt;I think that’ll be all for today, cheerio.&lt;/p&gt;</content><author><name></name></author><summary type="html">So… guess this is my first blog post. I’ve always wanted to start a blog because I’ve always had ideas swirling around in my mind that I wanted to talk about, as well as my progress on my current projects. I also wanted some place to talk about how some of my bigger projects work. Maybe in an official documenation page rather than a blog post, heh.</summary></entry></feed>